<template>
    <div class="slds-grid">
        <div class="slds-col slds-size_1-of-2 slds-p-right_xx-large">
            <legend class="slds-form-element__legend slds-form-element__label">{customLabel}</legend>
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <div class="slds-combobox_container">
                        <div id="box" class={boxClass} aria-expanded="true" aria-haspopup="listbox" role="combobox">
                            <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                                <template if:true={isValueSelected}>
                                    <template for:each={selectedNames} for:item="selectedName">

                                    <div class="slds-pill-container" key={selectedName}>
                                        <lightning-pill class="pillSize" label={selectedName} name={selectedName} onremove={handleRemovePill} data-name={selectedName} href={href}>
                                            <lightning-icon icon-name={iconName} alternative-text="acc" ></lightning-icon>
                                        </lightning-pill>
                                    </div>
                                    </template>
                                </template>
                                <template if:true={displayConditions}>
                                    <div class="slds-p-top_none">
                                        <lightning-input class={inputClass} type="search" id="input" value={searchTerm}
                                                         onclick={handleClick} onblur={onBlur} onchange={onChange}
                                                         variant="label-hidden" autocomplete="off" placeholder={searchPlaceholder}>
                                        </lightning-input>
                                    </div>
                                </template>
                            </div>
                            <div id="listbox-id-1" class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox">
                                <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                                    <template for:each={valueOptions} for:item="valueOption">
                                        <li key={valueOption} onclick={onSelect} role="presentation"  data-name={valueOption}>
                                            <span class="slds-lookup__item-action slds-lookup__item-action--label" role="option">
                                                <lightning-icon class="slds-icon slds-icon--small slds-icon-text-default" icon-name={iconName} size="small"></lightning-icon>
                                                <span class="slds-truncate">{valueOption}</span>
                                            </span>
                                        </li>
                                    </template>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
</template>